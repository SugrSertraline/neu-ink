# NeuInk - 智能云端论文阅读与管理平台

## 🚀 项目概述

NeuInk 是一个基于人工智能技术的云端多用户论文阅读和笔记管理系统，采用现代化的前后端分离架构。该平台不仅提供论文的存储和阅读功能，还集成了智能解析、实时协作、多语言支持等先进特性，为科研工作者和学术爱好者提供全方位的论文管理解决方案。

## 🛠️ 核心技术栈

### 后端技术架构
- **Python 3.9+** - 核心开发语言
- **Flask 3.0.3** - 轻量级Web框架，提供RESTful API服务
- **MongoDB** - NoSQL数据库，存储论文元数据、用户信息和内容
- **PyMongo 4.10.1** - MongoDB官方Python驱动
- **JWT (PyJWT 2.9.0)** - 基于令牌的身份验证机制
- **Flask-CORS 4.0.0** - 跨域资源共享支持
- **ZAI-SDK 0.0.4** - 智能AI服务集成
- **Qiniu 7.12.0** - 七牛云存储服务，用于文件上传和管理

### 前端技术架构
- **Node.js 18+** - 运行环境
- **Next.js 15.5.6** - React全栈框架，支持SSR和静态生成
- **React 19.1.0** - 用户界面构建
- **TypeScript** - 类型安全的JavaScript超集
- **Tailwind CSS 4** - 原子化CSS框架
- **shadcn/ui** - 高质量React组件库
- **TipTap 3.10.1** - 富文本编辑器
- **KaTeX 0.16.25** - 数学公式渲染引擎
- **Framer Motion 12.23.24** - 动画库

### 开发工具链
- **NPM Workspaces** - 单一代码库多包管理
- **ESLint & Prettier** - 代码质量和格式化
- **TypeScript 5** - 静态类型检查

## 🌟 核心功能特性

### 📚 智能论文管理
- **多层级论文组织**：支持公共论文库和个人论文库
- **高级搜索与过滤**：基于标题、作者、年份、期刊等多维度搜索
- **元数据管理**：完整的论文信息管理，包括SCI分区、CCF等级等学术指标
- **批量操作**：支持批量导入、导出和编辑

### 🔍 论文内容结构化
- **MinerU**：利用MinerU技术将PDF论文转换为结构化Markdown格式
- **智能内容解析**：自动识别论文标题、摘要、章节、图表、参考文献等结构元素
- **层次化内容管理**：将论文内容按章节、段落进行层次化组织，便于导航和阅读
- **图表提取与标注**：自动提取论文中的图表并保持与原文的关联

### 🤖 AI智能解析与翻译
- **自动内容提取**：使用大语言模型(LLM)自动解析论文结构
- **智能分段**：自动识别章节、段落、图表等结构元素
- **流式处理**：实时显示解析进度，支持大文件处理
- **多格式支持**：PDF、Markdown等多种格式的智能解析
- **快速翻译服务**：基于AI的中英文快速翻译，保持原文结构不变
- **双语对照显示**：支持原文和译文对照阅读，提升理解效率

### 📝 智能笔记系统
- **多格式笔记**：支持富文本、数学公式等多种笔记格式
- **笔记关联**：笔记与论文内容精确关联，便于回顾和整理

### 📝 富文本编辑器
- **块级编辑系统**：基于Block的模块化内容编辑
- **多类型内容支持**：
  - 段落和标题编辑
  - 数学公式(LaTeX)实时渲染
  - 图片上传与管理
  - 表格编辑与HTML导入
  - 代码块语法高亮
  - 有序/无序列表
  - 引用块
- **实时协作**：多用户同时编辑支持
- **版本控制**：编辑历史记录和回滚功能

### 🌐 多语言支持
- **双语内容管理**：中英文内容并行存储和显示
- **智能翻译**：基于AI的自动翻译服务
- **语言切换**：用户界面和内容语言灵活切换

### 👥 用户与权限管理
- **角色系统**：管理员和普通用户权限分离
- **JWT认证**：安全的无状态身份验证
- **个人空间**：每个用户独立的论文库和笔记系统
- **阅读进度跟踪**：记录用户阅读状态和进度

### 📊 数据可视化
- **阅读统计**：个人阅读时间和进度统计
- **论文分析**：论文引用、影响力等数据分析
- **交互式图表**：基于Framer Motion的动态数据展示

## 🏗️ 系统架构设计

### 前后端分离架构
```
┌─────────────────┐    HTTP/HTTPS    ┌─────────────────┐
│   Next.js 前端   │ ◄──────────────► │  Flask 后端API   │
│                 │                  │                 │
│ - React组件     │                  │ - RESTful API   │
│ - 状态管理      │                  │ - 业务逻辑      │
│ - 路由管理      │                  │ - 数据处理      │
└─────────────────┘                  └─────────────────┘
                                                │
                                                ▼
                                        ┌─────────────────┐
                                        │   MongoDB 数据库 │
                                        │                 │
                                        │ - 论文数据      │
                                        │ - 用户信息      │
                                        │ - 系统配置      │
                                        └─────────────────┘
```

### 数据模型设计
- **论文模型(Paper)**：核心论文数据结构
- **章节模型(Section)**：论文章节内容管理
- **用户模型(User)**：用户账户和权限信息
- **笔记模型(Note)**：用户笔记和注释
- **用户论文关系(UserPaper)**：用户与论文的关联关系

### 服务层架构
- **PaperService**：论文核心业务逻辑
- **ContentService**：内容管理和编辑
- **TranslationService**：多语言翻译服务
- **UserService**：用户管理服务
- **UploadService**：文件上传和管理

## 🚀 快速开始

### 环境要求
- Node.js 18.0.0+
- Python 3.9.0+
- MongoDB 4.4+
- NPM 9.0.0+

### 安装与配置

1. **克隆项目**
```bash
git clone <repository-url>
cd neu-ink
```

2. **安装依赖**
```bash
# 安装根依赖
npm install

# 安装后端依赖
cd apps/api
python -m venv .venv
# Windows
.venv\Scripts\activate
# Linux/macOS
source .venv/bin/activate
pip install -r requirements.txt

# 安装前端依赖
cd ../web
npm install
```

3. **环境配置**
```bash
# 后端环境变量
cp apps/api/.env.example apps/api/.env

# 前端环境变量
cp apps/web/.env.example apps/web/.env.local
```

4. **启动服务**
```bash
# 同时启动前后端
npm run dev

# 或分别启动
npm run dev:api  # 后端服务 (端口8000)
npm run dev:web  # 前端服务 (端口3000)
```

## 📖 API接口

### 核心接口概览
- **认证接口**：`/api/users/login`, `/api/users/logout`
- **公共论文库**：`/api/public/papers`, `/api/public/papers/{id}`
- **个人论文库**：`/api/user/papers`, `/api/user/papers/{id}`
- **内容管理**：`/api/papers/{id}/sections`, `/api/papers/{id}/blocks`
- **笔记系统**：`/api/notes`, `/api/notes/{id}`
- **文件上传**：`/api/upload/image`, `/api/upload/paper`

### 流式API
- **文本解析流**：`POST /api/papers/{id}/sections/{section_id}/parse-stream`
- **实时进度更新**：Server-Sent Events (SSE) 支持

详细API文档请参考 [API文档.md](./API文档.md)

## 🔧 开发指南

### 代码组织原则
- **模块化设计**：每个功能模块独立开发和测试
- **类型安全**：前后端全面使用TypeScript/Python类型注解
- **API优先**：前后端通过API契约进行协作
- **测试驱动**：核心功能必须有单元测试和集成测试

### 贡献流程
1. Fork项目
2. 创建功能分支
3. 编写代码和测试
4. 提交Pull Request
5. 代码审查和合并

## 🌟 核心业务流程

### 论文处理流程
1. **论文上传**：用户上传PDF论文到系统
2. **MinerU转换**：系统自动调用MinerU将PDF转换为结构化Markdown
3. **内容解析**：AI解析Markdown内容，识别论文结构元素
4. **结构化存储**：将解析后的内容按章节、段落等结构存储到数据库
5. **智能翻译**：可选的AI翻译服务，生成中英文对照版本
6. **笔记添加**：用户可在任意结构化内容上添加个人笔记

### 核心技术实现
- **MinerU集成**：核心的PDF到Markdown转换技术，保持原文结构
- **Markdown解析引擎**：自定义解析器，处理学术论文的特殊格式
- **结构化数据模型**：专门设计的数据库模型，存储论文的层次化结构
- **AI增强处理**：在结构化基础上应用AI技术，提升解析和翻译质量

## 🌟 高级特性

### AI集成
- **GLM大语言模型**：用于论文内容解析和智能问答
- **自动摘要生成**：基于论文内容生成中英文摘要
- **关键词提取**：智能识别论文核心关键词
- **引用分析**：自动解析和格式化参考文献

### 性能优化
- **懒加载**：大型论文内容按需加载
- **缓存策略**：多层缓存提升响应速度
- **CDN加速**：静态资源全球分发
- **数据库优化**：索引优化和查询优化

### 安全特性
- **JWT令牌认证**：无状态安全认证
- **权限控制**：细粒度权限管理
- **数据加密**：敏感数据加密存储
- **输入验证**：前后端双重数据验证

## 📊 项目状态

### 开发进度
- ✅ 基础架构和用户系统
- ✅ 论文管理和CRUD操作
- ✅ MinerU集成和PDF到Markdown转换
- ✅ 论文内容结构化解析
- ✅ 富文本编辑器
- ✅ AI智能解析
- ✅ 笔记系统
- 🚧 多语言翻译优化
- 🚧 实时协作功能
- 📋 一键解析论文功能
- 📋 社交功能
- 📋 移动端适配
- 📋 数据分析仪表板

### 未来规划
- **一键解析论文**：简化论文处理流程，一键完成从上传到结构化的全过程
- **社交功能**：论文分享、评论、学术讨论等社区功能
- **智能推荐**：基于用户阅读历史的论文推荐系统
- **协作研究**：多人协作的论文研读和笔记共享功能


## 🤝 社区与支持

### 技术支持
- 📧 邮箱：sugrsertraline@gmail.com
- 💬 讨论区：[GitHub Discussions](https://github.com/neuink/neu-ink/discussions)
- 🐛 问题反馈：[GitHub Issues](https://github.com/neuink/neu-ink/issues)
